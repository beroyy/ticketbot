# TicketsBot Environment Configuration
# Copy this file to .env and fill in your values

# ====================
# REQUIRED VARIABLES
# ====================

# Core Configuration
NODE_ENV=development                    # Options: development, staging, production
DATABASE_URL=postgresql://user:password@localhost:5432/ticketsbot
BETTER_AUTH_SECRET=your-secret-must-be-at-least-32-characters-long

# Discord Configuration (all required)
DISCORD_TOKEN=your-bot-token-here
DISCORD_CLIENT_ID=123456789012345678    # Your Discord application ID
DISCORD_CLIENT_SECRET=your-discord-client-secret-here

# ====================
# OPTIONAL VARIABLES
# ====================
# The following values are automatically derived if not specified

# Base Configuration
# PORT_OFFSET=3000                      # Base port for services (default: 3000)
# BASE_DOMAIN=ticketsbot.dev            # Required for production

# Redis (optional - for caching and sessions)
# REDIS_URL=redis://localhost:6379

# Feature Flags (all default to 'false')
# NEXT_PUBLIC_FEATURE_NEW_TICKET_UI=false
# NEXT_PUBLIC_FEATURE_BULK_ACTIONS=false
# NEXT_PUBLIC_FEATURE_ADVANCED_FORMS=false

# Development Helpers
# DEV_PERMISSIONS_HEX=0xfffffff         # Grant all permissions in development
# DEV_GUILD_ID=123456789012345678       # Development Discord server ID
# DEV_DB_AUTO_SEED=true                 # Auto-seed database on docker:dev

# ====================
# DERIVED VALUES
# ====================
# These are automatically calculated from the above:

# URLs (derived from NODE_ENV and BASE_DOMAIN/PORT_OFFSET)
# WEB_URL=http://localhost:3000         # In dev, or https://{BASE_DOMAIN} in prod
# API_URL=http://localhost:3001         # In dev, or https://{BASE_DOMAIN} in prod
# NEXT_PUBLIC_API_URL={API_URL}         # Always matches API_URL

# Ports (derived from PORT_OFFSET)
# WEB_PORT=3000                         # PORT_OFFSET
# API_PORT=3001                         # PORT_OFFSET + 1
# BOT_PORT=3002                         # PORT_OFFSET + 2

# Discord OAuth (derived from API_URL)
# DISCORD_REDIRECT_URI={API_URL}/auth/callback/discord

# Smart Defaults (based on NODE_ENV)
# LOG_LEVEL=debug                       # 'debug' in dev, 'warn' in prod
# LOG_REQUESTS=true                     # true in dev, false in prod
# RATE_LIMIT_ENABLED=false              # false in dev, true in prod
# COOKIE_DOMAIN=undefined               # undefined in dev, .{BASE_DOMAIN} in prod